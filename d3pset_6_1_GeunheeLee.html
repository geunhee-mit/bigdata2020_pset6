<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>D3 PSET</title>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.7.4/d3.js"></script>
		<link href="https://fonts.googleapis.com/css?family=Open+Sans:300" rel="stylesheet">
		<style type="text/css">

		.text-styling {
			font-family: "Arial";
			font-size: 14px;
		}

		.titlestyling {
			font-family: "Arial";
			font-size: 18px;
		}
		/* .text {
			text-anchor: "end";
		} */

		</style>
		</head>
		<body>

		<div id="main">
		</div>

		<div id="text-styling"></div>

		<script type="text/javascript">
			var width = 1200;
			var height = 1000;

			agriculturedata = [["Brazil", 33.9],["Canada", 6.9],["Costa Rica", 34.5],["Denmark", 62],["Fiji", 23.3],["France", 52.4],["Greenland", .6],["Italy", 43.2],["Mali",33.8],["Netherlands",53.3]];

			var svg = d3.select("div#main")
						.append("svg")
						.attr("width", width)
						.attr("height", height);

			svg.selectAll("rect")
               .data(agriculturedata)
               .enter()
               .append("rect")
               .attr("y", function(d, i) {
                       return i*40 + 80;
                  })
               .attr("x", 160)
               .attr("width", function(d) {
                       return d[1]*4;
                  })
          	   .attr("height", 30)
               .attr("fill", "green")
							 .attr("opacity", .7)


			//label
			svg.selectAll("text")
				    .data(agriculturedata)
				    .enter()
				    .append("text")
						.text(function(d,i) {
					        return d;
								})
						.attr("class", "text-styling")
						.attr("text-anchor", "end")
						.attr("y", function(d, i) {
										return i*40 + 100;
							 })
						.attr("x", 150)
						.attr("width", function(d) {
										return d[1]*4;
							 })

////////
			// svg.append("text")
			//             .attr("class", "value")
			//             .attr("y", barHeight / 2)
			//             .attr("dx", -valueMargin + labelWidth) //margin right
			//             .attr("dy", ".35em") //vertical align middle
			//             .attr("text-anchor", "end")
			//             .text(function(d){
			//                 return (d.value+"%");
			//             })
			//             .attr("x", function(d){
			//                 var width = this.getBBox().width;
			//                 return Math.max(width + valueMargin, scale(d.value));
			//             });

		</script>
	</body>
</html>
