  <!DOCTYPE html>

  <html lang='en'>
  <head>
    <meta charset="utf-8">
    <title>
      PSET6-2
    </title>
    <script src = "https://d3js.org/d3.v5.min.js" charset="utf-8"></script>
    <script src="https://d3js.org/d3-color.v1.min.js"></script>
    <script src="https://d3js.org/d3-interpolate.v1.min.js"></script>
    <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>

    <style>
    </style>

  </head>

  <body>
    <script>
      var bostonurl = 'https://gist.githubusercontent.com/cesandoval/09b2e39263c748fbcb84b927cecc7c46/raw/ab71d3638efd2545ec99c2651c6f2ddcea9d2a07/boston.json'
      var boston311url = 'https://raw.githubusercontent.com/brookefzy/BigData2020/master/pset6/boston_311.csv'

      var width = 1000,
      height = 600;

      var geoPath = d3.geoPath()
                      .projection(albersProjection)

      var svg = d3.select("body")
      .append("svg")
      .attr("width", width)
      .attr("height", height);

      var x = d3.scaleLinear()
      .domain([1, 10])
      .rangeRound([600, 860]);

      var color = d3.scaleQuantize()
      .domain(d3.range(2, 10))
      .range(d3.schemePurples[9]);

      var g = svg.append("g")
                 .attr("class", "key")
                 .attr("transform", "translate(0,40)");

      var albersProjection = d3.geoAlbers()
      .scale(190000)
      .rotate([71.057,0])
      .center([0,42.313])
      .translate([width/2, height/2])

      var boston = d3.map();

      d3.json(bostonurl).then(function(bosMap){
       console.log(bosMap)
             g.selectAll("path")
              .data(bosMap.Topology)
              .enter()
              .append("path")
              .attr("fill","#ccc")
              .attr("stroke","#333")
              .attr("d",geoPath)
      })

      </script>
